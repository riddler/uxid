# AUTOGENERATED FILE - DO NOT EDIT

import pytest

import sys
import os
sys.path.append(os.path.dirname(os.path.realpath(__file__)) + "/../..")
import uxid

{% if api_tests %}
{% for test in api_tests %}
{% capture args_string %}{% for arg in test.args %}"{{ arg }}"{% endfor %}{% endcapture %}
def test_{{ group_id }}{{ spec_id }}_{{ group_name }}_{{ spec_name }}_api():
    """
    {{ test.name }}
    """
    result = uxid.{{ test.method }}({{ args_string }})
    assert result, "Expected result to be defined"
{% endfor %}
{% endif %}

{% if decoder_tests %}
{% for test in decoder_tests %}
def test_{{ group_id }}{{ spec_id }}_{{ group_name }}_{{ spec_name }}_decoder():
    """
    {{ test.name }}
    """
    input_string = "{{ test.input }}"
{% if test.error_message %}
    with pytest.raises(ValueError) as err:
      uxid.decode(input_string)
    assert "{{ test.error_message }}" in str(err.value)
{% elsif test.verify %}
    decoded_id = uxid.decode(input_string)
    assert isinstance(decoded_id, uxid.UXID)
{% if test.verify.encoded %}    assert decoded_id.encoded == "{{ test.verify.encoded }}"{% endif %}
{% if test.verify.time %}    assert decoded_id.time == {{ test.verify.time }}{% endif %}
{% else %}
    assert isinstance(decoded_id, uxid.UXID)
{% endif %}
{% endfor %}
{% endif %}
